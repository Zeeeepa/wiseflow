# WiseFlow Environment Configuration
# This file contains all available configuration options for WiseFlow.
# Copy this file to .env and modify as needed.

#------------------------------------------------------------------------------
# SYSTEM SETTINGS
#------------------------------------------------------------------------------

# Project directory for storing data, logs, etc.
PROJECT_DIR="work_dir"

# Enable verbose logging (true/false)
VERBOSE=false

# Encryption key for sensitive values (if not set, a new key will be generated on startup)
# To generate a key: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# WISEFLOW_API_KEY=""

#------------------------------------------------------------------------------
# LLM SETTINGS
#------------------------------------------------------------------------------

# Base URL for LLM API (OpenAI by default)
LLM_API_BASE="https://api.openai.com/v1"

# API key for LLM service (required)
LLM_API_KEY="your-api-key"

# Model names for different purposes
PRIMARY_MODEL="gpt-4o"           # Main model for most operations
SECONDARY_MODEL="gpt-4o-mini"    # Fallback or less intensive operations
VL_MODEL="gpt-4o"                # Vision-language model for multimodal tasks

# Maximum number of concurrent LLM requests
LLM_CONCURRENT_NUMBER=4

#------------------------------------------------------------------------------
# DATABASE SETTINGS (PocketBase)
#------------------------------------------------------------------------------

# PocketBase API base URL
PB_API_BASE="http://127.0.0.1:8090"

# PocketBase authentication (format: email|password)
PB_API_AUTH="admin@example.com|your-password"

#------------------------------------------------------------------------------
# SEARCH SETTINGS
#------------------------------------------------------------------------------

# API keys for search providers
ZHIPU_API_KEY=""
EXA_API_KEY=""

#------------------------------------------------------------------------------
# API SETTINGS
#------------------------------------------------------------------------------

# API host and port
API_HOST="0.0.0.0"
API_PORT=8000

# Enable API auto-reload for development (true/false)
API_RELOAD=false

# API key for WiseFlow API authentication
WISEFLOW_API_KEY="dev-api-key"

#------------------------------------------------------------------------------
# CRAWLER SETTINGS
#------------------------------------------------------------------------------

# Crawler timeout in seconds
CRAWLER_TIMEOUT=60

# Maximum depth for crawler to follow links
CRAWLER_MAX_DEPTH=3

# Maximum number of pages to crawl
CRAWLER_MAX_PAGES=100

# Maximum number of concurrent crawler requests
MAX_CONCURRENT_REQUESTS=5

#------------------------------------------------------------------------------
# TASK SETTINGS
#------------------------------------------------------------------------------

# Maximum number of concurrent tasks
MAX_CONCURRENT_TASKS=4

# Auto-shutdown settings
AUTO_SHUTDOWN_ENABLED=false           # Enable auto-shutdown when idle
AUTO_SHUTDOWN_IDLE_TIME=3600          # Idle time in seconds before shutdown
AUTO_SHUTDOWN_CHECK_INTERVAL=300      # Check interval in seconds

#------------------------------------------------------------------------------
# FEATURE FLAGS
#------------------------------------------------------------------------------

# Enable/disable features
ENABLE_MULTIMODAL=false               # Enable multimodal (vision) capabilities
ENABLE_KNOWLEDGE_GRAPH=false          # Enable knowledge graph generation
ENABLE_INSIGHTS=true                  # Enable insights generation
ENABLE_REFERENCES=true                # Enable reference tracking
ENABLE_EVENT_SYSTEM=true              # Enable event system

#------------------------------------------------------------------------------
# LOGGING SETTINGS
#------------------------------------------------------------------------------

# Log level (TRACE, DEBUG, INFO, SUCCESS, WARNING, ERROR, CRITICAL)
LOG_LEVEL="INFO"

# Log output destinations
LOG_TO_FILE=true                      # Write logs to file
LOG_TO_CONSOLE=true                   # Write logs to console

# Log directory (default: PROJECT_DIR/logs)
# LOG_DIR=""

# Use structured (JSON) logging
STRUCTURED_LOGGING=false

# Log rotation and retention
LOG_ROTATION="50 MB"                  # Rotate logs when they reach this size
LOG_RETENTION="10 days"               # Keep logs for this duration

#------------------------------------------------------------------------------
# MEMORY MANAGEMENT
#------------------------------------------------------------------------------

# Memory thresholds for resource monitoring
MEMORY_THRESHOLD_PERCENT=80.0         # Critical threshold percentage
MEMORY_WARNING_PERCENT=70.0           # Warning threshold percentage

